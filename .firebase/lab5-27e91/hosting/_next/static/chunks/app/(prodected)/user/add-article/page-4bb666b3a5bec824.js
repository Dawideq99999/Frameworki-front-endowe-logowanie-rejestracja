(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[709],{8086:(e,r,a)=>{Promise.resolve().then(a.bind(a,5391))},7982:(e,r,a)=>{"use strict";a.d(r,{Ad:()=>c,GE:()=>d,db:()=>u,j2:()=>n,o6:()=>i});var t=a(9904),s=a(4565),o=a(7058);let l=(0,t.Wp)({apiKey:"AIzaSyCuZpWnRf0EgfAOq0axuhvZsbbTnIuT2Gw",authDomain:"lab5-27e91.firebaseapp.com",projectId:"lab5-27e91",storageBucket:"lab5-27e91.appspot.com",messagingSenderId:"703615843516",appId:"1:703615843516:web:6a7f9a725c1f4bd0ace4b9"}),n=(0,s.xI)(l),u=(0,o.aU)(l),c=async(e,r)=>{try{let a=await (0,s.eJ)(n,e,r);return console.log("Rejestracja zakończona sukcesem:",a.user),a.user}catch(e){throw console.error("Błąd rejestracji:",e.message),Error(e.message)}},d=async()=>{let e=[];try{let r=n.currentUser;if(!r)return console.error("Nie zalogowano użytkownika."),e;let a=(0,o.P)((0,o.rJ)(u,"articles"),(0,o._M)("userId","==",r.uid));return(await (0,o.GG)(a)).forEach(r=>{e.push({id:r.id,...r.data()})}),e}catch(e){throw console.error("Błąd pobierania artykuł\xf3w:",e),Error(e.message)}},i=async e=>{try{let r=n.currentUser;if(!r)throw Error("Użytkownik nie jest zalogowany.");let a={...e,userId:r.uid},t=await (0,o.gS)((0,o.rJ)(u,"articles"),a);console.log("Artykuł dodany z ID:",t.id)}catch(e){throw console.error("Błąd dodawania artykułu:",e.message),Error(e.message)}}},5391:(e,r,a)=>{"use strict";a.d(r,{default:()=>l});var t=a(5155),s=a(2115),o=a(7982);let l=e=>{let{onArticleAdded:r}=e,[a,l]=(0,s.useState)(""),[n,u]=(0,s.useState)(""),c=async e=>{e.preventDefault();let t=o.j2.currentUser;if(!t){alert("You need to be logged in to add articles.");return}let s={title:a,content:n,date:new Date,userId:t.uid};await (0,o.o6)(s),l(""),u(""),r&&r()};return(0,t.jsxs)("div",{className:"max-w-4xl mx-auto p-4 mb-8 bg-white rounded-lg shadow-lg",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Add Article"}),(0,t.jsxs)("form",{onSubmit:c,className:"space-y-4",children:[(0,t.jsx)("input",{type:"text",placeholder:"Enter title",value:a,onChange:e=>l(e.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("textarea",{placeholder:"Enter content",value:n,onChange:e=>u(e.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-600 transition",children:"Add Article"})]})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[697,992,512,778,441,517,358],()=>r(8086)),_N_E=e.O()}]);